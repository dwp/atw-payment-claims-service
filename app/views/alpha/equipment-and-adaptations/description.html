{% extends "layout.html" %}

{% block pageTitle %}
Your health condition
{% endblock %}
{% block beforeContent %}

{% endblock %}
{% set conditionsLength %}
{{ data.conditions | length }}
{% endset %}
{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <form id="form" method="post" action="#">
            <h1 class="govuk-heading-xl govuk-!-margin-bottom-4">What health conditions or disabilities do you
                have?</h1>
            <p>By condition or disability, we mean:</p>
            <ul class="govuk-list govuk-list--bullet">
                <li>physical conditions, such as arthritis, heart disease or diabetes</li>
                <li>blindness and sight impairment</li>
                <li>hearing and speech difficulties</li>
                <li>learning, developmental or behavioural difficulties</li>
                <li>cognitive impairment</li>
                <li>mental health conditions, such as depression, anxiety or bipolar disorder</li>
                <li>neurological conditions, such as Parkinson's or epilepsy</li>
            </ul>
            <div data-module="moj-add-another">
                <!-- START HERE -->
                <fieldset class="govuk-fieldset moj-add-another__item">
                    <p class="govuk-body govuk-!-font-weight-bold"></p>
                    <div class="govuk-form-group">
                        <label class="govuk-label govuk-!-font-weight-bold" for="conditions[0][condition_name]">
                            Name of condition or disability
                        </label>
                        <input class="govuk-input" id="conditions[0][condition_name]"
                               name="conditions[0][condition_name]" type="text"
                               data-name="conditions[%index%][condition_name]"
                               data-id="conditions[%index%][condition_name]">
                    </div> <!-- govuk-form-group -->
                    <div class="govuk-form-group">
                        <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                            Approximate start date
                        </legend>
                        <div id="date-of-birth-hint" class="govuk-hint">
                            For example, 3 1980
                        </div>
                        <div class="govuk-date-input__item">
                            <div class="govuk-form-group">
                                <label class="govuk-label govuk-date-input__label" for="conditions[0][date]">
                                    Approx date
                                </label>
                                <input class="govuk-input govuk-date-input__input govuk-input--width-20"
                                       id="conditions[0][date]"
                                       name="conditions[0][date]" type="text" data-name="conditions[%index%][date]"
                                       data-id="conditions[%index%][date]">
                            </div> <!-- govuk-form-group -->
                        </div> <!-- govuk-date-input__item -->
                    </div> <!-- govuk-form-group -->
                    {% if conditionsLength > 1 %}
                    <button type="button" class="govuk-button govuk-button--secondary moj-add-another__remove-button">
                        Remove
                    </button>
                    {% endif %}
                </fieldset>
                <!-- ENDS HERE -->
                {% if conditionsLength > 1 %}
                {% for condition in data.conditions %}
                {% if not loop.first %}
                <!-- START HERE -->
                <fieldset class="govuk-fieldset moj-add-another__item">
                    <p class="govuk-body govuk-!-font-weight-bold"></p>
                    <div class="govuk-form-group">
                        <label class="govuk-label govuk-!-font-weight-bold"
                               for="conditions[{{loop.index0}}][condition_name]">
                            Name of condition or disability
                        </label>
                        <input class="govuk-input" id="conditions[{{loop.index0}}][condition_name]"
                               name="conditions[{{loop.index0}}][condition_name]" type="text"
                               value="condition.condition_name"
                               data-name="conditions[%index%][condition_name]"
                               data-id="conditions[%index%][condition_name]">
                    </div> <!-- govuk-form-group -->
                    <div class="govuk-form-group">
                        <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                            Approximate start date
                        </legend>
                        <div id="date-of-birth-hint" class="govuk-hint">
                            For example, 3 1980
                        </div>
                        <div class="govuk-date-input__item">
                            <div class="govuk-form-group">
                                <label class="govuk-label govuk-date-input__label"
                                       for="conditions[{{loop.index0}}][date]">
                                    Approx date
                                </label>
                                <input class="govuk-input govuk-date-input__input govuk-input--width-20"
                                       id="conditions[{{loop.index0}}][date]"
                                       name="conditions[{{loop.index0}}][date]" type="text"
                                       data-name="conditions[%index%][date]" data-id="conditions[%index%][date]"
                                       value="condition.date">
                            </div> <!-- govuk-form-group -->
                        </div> <!-- govuk-date-input__item -->
                    </div> <!-- govuk-form-group -->
                    <button type="button" class="govuk-button govuk-button--secondary moj-add-another__remove-button">
                        Remove
                    </button>
                </fieldset>
                <!-- ENDS HERE -->
                {% endif %}
                {% endfor %}
                {% endif %}
                <div class="moj-button-action">
                    <button class="govuk-button govuk-button--secondary moj-add-another__add-button govuk-!-margin-bottom-4"
                            data-module="govuk-button">
                        Add another condition or disability
                    </button>
                </div>
                <div class="moj-button-action">
                    <button class="govuk-button" data-module="govuk-button">
                        Save and continue
                    </button>
                </div>
            </div> <!-- data module -->
        </form>
    </div>{# /govuk-grid-column-two-thirds #}
</div>{# /govuk-grid-row #}
{% endblock %}
